<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ðŸ”¥ Random Password Generator</title>
<style>
  :root{
    --bg1:#0f172a;
    --bg2:#0b1220;
    --card:#0b1228cc;
    --glass: rgba(255,255,255,0.04);
    --accent:#7c5cff;
    --good:#22c55e;
    --warn:#f59e0b;
    --bad:#ef4444;
    --glass-border: rgba(255,255,255,0.06);
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
    background: radial-gradient(1000px 600px at 10% 10%, rgba(124,92,255,0.12), transparent 10%),
                radial-gradient(1000px 600px at 90% 90%, rgba(34,197,94,0.06), transparent 8%),
                linear-gradient(180deg,var(--bg1),var(--bg2));
    color:#e6eef8;
    padding:24px;
  }

  .panel{
    width:420px;
    max-width:95%;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid var(--glass-border);
    border-radius:14px;
    padding:30px 24px 24px;
    box-shadow: 0 10px 30px rgba(2,6,23,0.6);
    backdrop-filter: blur(6px);
    text-align:center;
  }

  h1{
    margin:0 0 6px 0;
    font-size:24px;
    letter-spacing:0.2px;
    color:#fff;
  }
  p.lead{
    margin:0 0 18px 0;
    color: #cfe9ff;
    font-size:14px;
    opacity:0.9;
  }

  .display{
    display:flex;
    gap:10px;
    margin-bottom:16px;
  }

  .pw{
    flex:1;
    padding:14px 16px;
    font-size:16px;
    border-radius:10px;
    background:var(--glass);
    border:1px solid var(--glass-border);
    color:#fff;
    outline:none;
    cursor:pointer;
    user-select:all;
    transition:transform .12s ease, box-shadow .12s;
  }
  .pw:active{ transform:scale(.998); }

  .btn-copy{
    position: relative;
    padding:0 14px;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    border-radius:10px;
    background:linear-gradient(180deg,var(--accent), #6b4bff);
    color:white;
    border:none;
    font-weight:600;
    cursor:pointer;
    box-shadow: 0 6px 18px rgba(124,92,255,0.12);
    overflow:hidden;
  }

  .btn-copy .text{
    transition: transform .3s ease;
  }

  .btn-copy.copied .text{
    transform: translateY(-100%);
  }

  .btn-copy::after{
    content:"âœ” Copied!";
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%) translateY(100%);
    transition: transform .3s ease;
    font-size:14px;
  }

  .btn-copy.copied::after{
    transform:translate(-50%,-50%) translateY(0);
  }

  .controls{
    display:flex;
    gap:10px;
    align-items:center;
    margin-bottom:14px;
  }

  select, button.generate{
    padding:10px 12px;
    border-radius:10px;
    border:1px solid var(--glass-border);
    background:rgba(255,255,255,0.02);
    color:#eaf6ff;
    font-weight:600;
    cursor:pointer;
    font-size:14px;
  }

  .generate{
    flex:1;
    background: linear-gradient(90deg,#334155, #1f2937);
    border:none;
  }

  .length{
    width:84px;
    padding:10px 12px;
    border-radius:10px;
    border:1px solid var(--glass-border);
    background:rgba(255,255,255,0.01);
    color:#dff1ff;
  }

  .info{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:10px;
    margin-top:6px;
    font-size:13px;
    color:#bfe7ff;
    opacity:0.9;
  }

  .strength{
    margin-top:12px;
    height:10px;
    border-radius:999px;
    background:rgba(255,255,255,0.04);
    overflow:hidden;
    border:1px solid rgba(255,255,255,0.03);
  }
  .strength > i{
    display:block;
    height:100%;
    width:0%;
    transition:width .28s ease, background-color .28s ease;
  }

  .note{
    font-size:12px;
    margin-top:12px;
    color:#b7dfff;
    opacity:0.9;
  }

  @media (max-width:420px){
    .controls{flex-direction:column; align-items:stretch;}
    .length{width:100%}
  }
</style>
</head>
<body>
<div class="panel">
  <h1>Random Password Generator</h1>
  <p class="lead">Choose a level â€” click the password itself or the button to copy it!</p>

  <div class="display">
    <input id="password" class="pw" type="text" readonly aria-label="Generated password" title="Click to copy password" />
    <button id="copyBtn" class="btn-copy" aria-label="Copy password"><span class="text">Copy</span></button>
  </div>

  <div class="controls">
    <select id="level" aria-label="Security level selector">
      <option value="low">Low â€” 8 letters</option>
      <option value="medium" selected>Medium â€” 12 letters+numbers</option>
      <option value="high">High â€” 16 letters+numbers+?!#</option>
    </select>
    <input id="customLength" class="length" type="number" min="4" max="64" value="12" aria-label="Password length (auto-chosen by level)" />
    <button id="generate" class="generate" aria-label="Generate password">Generate</button>
  </div>

  <div class="info">
    <div id="levelLabel">Level: Medium</div>
    <div id="lenLabel">Length: 12</div>
  </div>

  <div class="strength">
    <i id="strengthBar"></i>
  </div>

  <div class="note">Low = letters only (8). Medium = letters+numbers (12). High = letters+numbers+symbols (? ! #) (16).</div>
</div>

<script>
const letters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
const numbers = "0123456789";
const symbols = "?!#";

const passwordInput = document.getElementById('password');
const copyBtn = document.getElementById('copyBtn');
const levelSelect = document.getElementById('level');
const generateBtn = document.getElementById('generate');
const customLength = document.getElementById('customLength');
const levelLabel = document.getElementById('levelLabel');
const lenLabel = document.getElementById('lenLabel');
const strengthBar = document.getElementById('strengthBar');

const exactLengths = { low: 8, medium: 12, high: 16 };

function randInt(max){
  const array = new Uint32Array(1);
  window.crypto.getRandomValues(array);
  return array[0] % max;
}

function generateForLevel(level){
  let charset = "";
  let length = exactLengths[level];

  if(level === 'low') charset = letters;
  else if(level === 'medium') charset = letters + numbers;
  else charset = letters + numbers + symbols;

  let pw = "";
  for(let i=0;i<length;i++){
    pw += charset.charAt(randInt(charset.length));
  }
  return pw;
}

function updateUIForLevel(level){
  levelLabel.textContent = "Level: " + (level.charAt(0).toUpperCase() + level.slice(1));
  const length = exactLengths[level];
  lenLabel.textContent = "Length: " + length;
  customLength.value = length;
  if(level === 'low'){ strengthBar.style.width="33%"; strengthBar.style.backgroundColor="var(--bad)"; }
  else if(level === 'medium'){ strengthBar.style.width="66%"; strengthBar.style.backgroundColor="var(--warn)"; }
  else { strengthBar.style.width="100%"; strengthBar.style.backgroundColor="var(--good)"; }
}

async function copyPassword(){
  const val = passwordInput.value;
  if(!val) return;
  try{ await navigator.clipboard.writeText(val); }
  catch(e){ passwordInput.select(); document.execCommand('copy'); }

  // animate button
  copyBtn.classList.add('copied');
  setTimeout(()=>{ copyBtn.classList.remove('copied'); },1200);
}

generateBtn.addEventListener('click', ()=>{
  const level = levelSelect.value;
  passwordInput.value = generateForLevel(level);
  updateUIForLevel(level);
});

passwordInput.addEventListener('click', copyPassword);
copyBtn.addEventListener('click', copyPassword);

levelSelect.addEventListener('change', ()=>{
  const level = levelSelect.value;
  updateUIForLevel(level);
  passwordInput.value = generateForLevel(level);
});

customLength.addEventListener('input', ()=>{
  const level = levelSelect.value;
  customLength.value = exactLengths[level];
});

(function init(){
  updateUIForLevel(levelSelect.value);
  passwordInput.value = generateForLevel(levelSelect.value);
})();
</script>
</body>
</html>
