<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Device Lookup - AceNodes</title>
    <style>
        /* Professional Design System */
        :root {
            --bg-primary: hsl(222, 20%, 7%);
            --bg-secondary: hsl(222, 18%, 10%);
            --bg-card: hsl(222, 18%, 10%);
            --text-primary: hsl(0, 0%, 98%);
            --text-secondary: hsl(0, 0%, 62%);
            --primary: hsl(25, 95%, 53%);
            --primary-glow: hsl(35, 90%, 55%);
            --accent: hsl(358, 75%, 59%);
            --border: hsl(222, 15%, 18%);
            --border-hover: hsl(25, 95%, 53%);
            --shadow: 0 4px 24px -4px hsl(0, 0%, 0%, 0.25);
            --shadow-glow: 0 10px 50px -12px hsl(25, 95%, 53%, 0.35);
            --shadow-elevated: 0 8px 32px -6px hsl(0, 0%, 0%, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: linear-gradient(180deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
            min-height: 100vh;
            padding: 32px 16px;
            color: var(--text-primary);
            line-height: 1.6;
        }

        .container {
            max-width: 1280px;
            margin: 0 auto;
        }

        /* Header Section */
        .header {
            text-align: center;
            margin-bottom: 64px;
        }

        .header h1 {
            font-size: clamp(32px, 5vw, 56px);
            font-weight: 700;
            margin-bottom: 16px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-glow) 50%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
        }

        .header p {
            font-size: 18px;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Loading State */
        .loading {
            text-align: center;
            padding: 80px 20px;
        }

        .spinner {
            width: 48px;
            height: 48px;
            border: 3px solid var(--border);
            border-top: 3px solid var(--primary);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 0 auto 24px;
        }

        .loading-text {
            font-size: 18px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Grid Layout */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 24px;
            margin-bottom: 24px;
        }

        /* Card Styles */
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 32px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow);
        }

        .card:hover {
            border-color: var(--border-hover);
            box-shadow: var(--shadow-glow);
            transform: translateY(-4px) scale(1.02);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border);
        }

        .card-icon {
            font-size: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-glow) 100%);
            border-radius: 12px;
            flex-shrink: 0;
        }

        .card h2 {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
            letter-spacing: -0.01em;
        }

        /* Info Rows */
        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            padding: 16px 0;
            border-bottom: 1px solid var(--border);
            gap: 16px;
        }

        .info-row:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .info-label {
            color: var(--text-secondary);
            font-weight: 500;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            flex-shrink: 0;
        }

        .info-value {
            color: var(--text-primary);
            font-weight: 600;
            text-align: right;
            font-size: 16px;
            word-break: break-word;
        }

        /* Map Container */
        .map-card {
            grid-column: 1 / -1;
        }

        .map-container {
            width: 100%;
            height: 400px;
            border-radius: 8px;
            overflow: hidden;
            margin-top: 24px;
            background: var(--border);
            box-shadow: var(--shadow-elevated);
        }

        /* Refresh Button */
        .refresh-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin: 48px auto 0;
            background: var(--primary);
            color: white;
            border: none;
            padding: 16px 32px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow-glow);
        }

        .refresh-btn:hover {
            background: var(--primary-glow);
            transform: translateY(-2px);
            box-shadow: 0 12px 60px -16px hsl(25, 95%, 53%, 0.5);
        }

        .refresh-btn:active {
            transform: translateY(0);
        }

        /* Error State */
        .error {
            background: hsl(0, 72%, 51%, 0.1);
            border: 1px solid hsl(0, 72%, 51%, 0.3);
            color: hsl(0, 72%, 60%);
            padding: 32px;
            border-radius: 12px;
            text-align: center;
            margin: 40px 0;
            font-weight: 500;
        }

        .error-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body {
                padding: 24px 12px;
            }

            .header {
                margin-bottom: 48px;
            }

            .card {
                padding: 24px;
            }

            .grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }

            .map-container {
                height: 300px;
            }

            .info-row {
                flex-direction: column;
                gap: 8px;
            }

            .info-value {
                text-align: left;
            }
        }

        /* Fade In Animation */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out forwards;
        }

        .card:nth-child(1) { animation-delay: 0.1s; }
        .card:nth-child(2) { animation-delay: 0.2s; }
        .card:nth-child(3) { animation-delay: 0.3s; }
        .card:nth-child(4) { animation-delay: 0.4s; }
        .card:nth-child(5) { animation-delay: 0.5s; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Device & Location Lookup</h1>
            <p>Comprehensive information about your device, network, and geographic location</p>
        </div>
        
        <!-- Loading State -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <div class="loading-text">Retrieving your information...</div>
        </div>

        <!-- Content -->
        <div id="content" style="display: none;">
            <div class="grid">
                <!-- Network Information -->
                <div class="card fade-in">
                    <div class="card-header">
                        <div class="card-icon">üåê</div>
                        <h2>Network Information</h2>
                    </div>
                    <div class="info-row">
                        <span class="info-label">IP Address</span>
                        <span class="info-value" id="ip">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">IP Version</span>
                        <span class="info-value" id="ipVersion">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">ISP Provider</span>
                        <span class="info-value" id="isp">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Organization</span>
                        <span class="info-value" id="org">-</span>
                    </div>
                </div>

                <!-- Location Information -->
                <div class="card fade-in">
                    <div class="card-header">
                        <div class="card-icon">üìç</div>
                        <h2>Geographic Location</h2>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Country</span>
                        <span class="info-value" id="country">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Region</span>
                        <span class="info-value" id="region">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">City</span>
                        <span class="info-value" id="city">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Timezone</span>
                        <span class="info-value" id="timezone">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Coordinates</span>
                        <span class="info-value" id="coordinates">-</span>
                    </div>
                </div>

                <!-- Device Information -->
                <div class="card fade-in">
                    <div class="card-header">
                        <div class="card-icon">üíª</div>
                        <h2>Device Details</h2>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Browser</span>
                        <span class="info-value" id="browser">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Operating System</span>
                        <span class="info-value" id="os">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Screen Resolution</span>
                        <span class="info-value" id="screen">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Language</span>
                        <span class="info-value" id="language">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Cookies</span>
                        <span class="info-value" id="cookies">-</span>
                    </div>
                </div>

                <!-- Time Information -->
                <div class="card fade-in">
                    <div class="card-header">
                        <div class="card-icon">üïê</div>
                        <h2>Time & Date</h2>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Local Time</span>
                        <span class="info-value" id="localTime">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">UTC Offset</span>
                        <span class="info-value" id="utcOffset">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Current Date</span>
                        <span class="info-value" id="date">-</span>
                    </div>
                </div>
            </div>

            <!-- Map -->
            <div class="card map-card fade-in">
                <div class="card-header">
                    <div class="card-icon">üó∫Ô∏è</div>
                    <h2>Interactive Map</h2>
                </div>
                <div class="map-container" id="mapContainer">
                    <iframe id="map" width="100%" height="100%" frameborder="0" style="border:0"></iframe>
                </div>
            </div>

            <!-- Refresh Button -->
            <button class="refresh-btn" onclick="fetchData()">
                <span>üîÑ</span>
                <span>Refresh Information</span>
            </button>
        </div>
    </div>

    <script>
        function getBrowserInfo() {
            const ua = navigator.userAgent;
            let browser = "Unknown";
            
            if (ua.indexOf("Firefox") > -1) {
                browser = "Firefox";
            } else if (ua.indexOf("SamsungBrowser") > -1) {
                browser = "Samsung Internet";
            } else if (ua.indexOf("Opera") > -1 || ua.indexOf("OPR") > -1) {
                browser = "Opera";
            } else if (ua.indexOf("Trident") > -1) {
                browser = "IE";
            } else if (ua.indexOf("Edge") > -1) {
                browser = "Edge";
            } else if (ua.indexOf("Chrome") > -1) {
                browser = "Chrome";
            } else if (ua.indexOf("Safari") > -1) {
                browser = "Safari";
            }
            
            return browser;
        }

        function getOSInfo() {
            const ua = navigator.userAgent;
            let os = "Unknown";
            
            if (ua.indexOf("Win") > -1) os = "Windows";
            else if (ua.indexOf("Mac") > -1) os = "MacOS";
            else if (ua.indexOf("Linux") > -1) os = "Linux";
            else if (ua.indexOf("Android") > -1) os = "Android";
            else if (ua.indexOf("iOS") > -1) os = "iOS";
            
            return os;
        }

        function updateTime() {
            const now = new Date();
            document.getElementById('localTime').textContent = now.toLocaleTimeString();
            document.getElementById('date').textContent = now.toLocaleDateString();
            
            const offset = -now.getTimezoneOffset() / 60;
            document.getElementById('utcOffset').textContent = `UTC${offset >= 0 ? '+' : ''}${offset}`;
        }

        async function fetchData() {
            document.getElementById('loading').style.display = 'block';
            document.getElementById('content').style.display = 'none';

            try {
                // Fetch IP and location data
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();

                // Network Info
                document.getElementById('ip').textContent = data.ip || 'N/A';
                document.getElementById('ipVersion').textContent = data.version || 'IPv4';
                document.getElementById('isp').textContent = data.org || 'N/A';
                document.getElementById('org').textContent = data.asn || 'N/A';

                // Location Info
                document.getElementById('country').textContent = `${data.country_name} ${data.country_flag_emoji || ''}`;
                document.getElementById('region').textContent = data.region || 'N/A';
                document.getElementById('city').textContent = data.city || 'N/A';
                document.getElementById('timezone').textContent = data.timezone || 'N/A';
                document.getElementById('coordinates').textContent = `${data.latitude}, ${data.longitude}`;

                // Device Info
                document.getElementById('browser').textContent = getBrowserInfo();
                document.getElementById('os').textContent = getOSInfo();
                document.getElementById('screen').textContent = `${screen.width}x${screen.height}`;
                document.getElementById('language').textContent = navigator.language;
                document.getElementById('cookies').textContent = navigator.cookieEnabled ? 'Enabled' : 'Disabled';

                // Time Info
                updateTime();
                setInterval(updateTime, 1000);

                // Map
                if (data.latitude && data.longitude) {
                    const mapUrl = `https://www.openstreetmap.org/export/embed.html?bbox=${data.longitude-0.1},${data.latitude-0.1},${data.longitude+0.1},${data.latitude+0.1}&layer=mapnik&marker=${data.latitude},${data.longitude}`;
                    document.getElementById('map').src = mapUrl;
                }

                document.getElementById('loading').style.display = 'none';
                document.getElementById('content').style.display = 'block';

            } catch (error) {
                document.getElementById('loading').innerHTML = `
                    <div class="error">
                        <div class="error-icon">‚ö†Ô∏è</div>
                        <strong>Error Retrieving Data</strong><br>
                        <p style="margin-top: 12px; font-size: 14px;">${error.message}</p>
                        <button class="refresh-btn" onclick="fetchData()" style="margin-top: 24px;">
                            <span>üîÑ</span>
                            <span>Try Again</span>
                        </button>
                    </div>
                `;
            }
        }

        // Load data on page load
        fetchData();
    </script>
</body>
</html>